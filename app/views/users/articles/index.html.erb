<%= content_for :title, "記事一覧" %>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="text-center">
        <h1 class="mb-4">記事一覧</h1>
        <%= link_to '記事新規作成', new_users_article_path, class: 'btn btn-primary mb-3', style: 'width: 60%;' %>
      </div>

      <table class="table">
        <thead>
          <tr class="thick-border-bottom">
            <th class="text-center">詳細表示</th>
            <th class="text-center">タイトル</th>
            <th class="text-center">内容</th>
            <th class="text-center">画像</th>
            <th class="text-center">編集・削除</th>
          </tr>
        </thead>
        <tbody>
          <% @articles.each do |article| %>
            <tr>
              <td class="text-center">
                <%= link_to '詳細', users_article_path(article), class: 'btn btn-primary' %>
              </td>
              <td class="text-center"><%= article.title %></td>
              <td class="text-center"><%= truncate(article.content, length: 80) %></td>
              <td class="text-center">
                <% if article.image.attached? %>
                  <%= image_tag(article.image, size: "100x100") %>
                <% end %>
              </td>
              <td class="text-center">
                <%= link_to '編集', edit_users_article_path(article), class: 'btn btn-success mr-2' %>
                <%= link_to '削除', users_article_path(article), method: :delete, data: { confirm: "本当に削除しますか？" }, class: 'btn btn-danger' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
